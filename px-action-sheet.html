<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="px-action-sheet-button.html" />
<!--
<p>
  For demo visit <a href="demo.html" target="_blank">Full demo here</a> or <a href="mobile-demo.html" target="_blank">Mobile demo here</a>
</p>

## Usage
```
<px-action-sheet id="actionsheet1">
  <px-action-sheet-button label="Item 1" onclick="alert('Item 1')" theme="primary"></px-action-sheet-button>
  <px-action-sheet-button label="Item 2" onclick="alert('Item 2')"></px-action-sheet-button>
  <px-action-sheet-button label="Item 3" onclick="alert('Item 3')"></px-action-sheet-button>
  <px-action-sheet-button label="Cancel" type="cancel" onclick="document.getElementById('actionsheet1').toggle()"></px-action-sheet-button>
</px-action-sheet>
```

@element px-action-sheet.html
@blurb px-action-sheet is a responsive mobile first action sheet.
@demo demo.html
@homepage index.html
-->
  <link rel="stylesheet" href="css/px-action-sheet.css">
<dom-module id="px-action-sheet">
  <template strip-whitespace>
  <style>
    :host {
      display: block;
    }
  </style>
    <div id="_actionDialogMask" class="action-dialog--mask" on-click="toggle"></div>
    <div id="_actionSheet" class="action-sheet">
      <div id="_actionSheetActions" class="action-sheet__actions">
        <content select="*, px-action-sheet-button"></content>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-action-sheet',
      properties: {
        //The current state of the action sheet
        open: {
          type: Boolean,
          observer: '_openHandler',
          value: false
        },
        //Use grid based action buttons
        grid: {
          type: Boolean,
          value: false
        },
        //Use list based action buttons
        list: {
          type: Boolean,
          value: false
        }
      },
      attached: function(){
        if(this.grid){
          this.toggleClass('action-sheet__actions--grid', this.grid, this.$._actionSheetActions);
        }
        if(this.list){
          this.toggleClass('action-sheet__actions--list', this.list, this.$._actionSheetActions);
        }
      },
      //I handle invoking the toggleHandler when the value changes.
      _openHandler: function(newVal, oldVal) {
        this._toggleHandler();
      },
      //I handle toggling the visibility of the action sheet.
      _toggleHandler: function(show) {
        //this.$._actionDialogMask.hidden = !this.$._actionDialogMask.hidden;
        //this.toggleClass('action-sheet--is-open', show || this.open);
        this.toggleClass('action-dialog--mask--is-open', show || this.open, this.$._actionDialogMask);
        this.toggleClass('action-sheet--is-open', show || this.open, this.$._actionSheet);
      },
      //I handle toggling value of open, which in turn toggles the visibility.
      toggle: function() {
        this.open = !this.open;
      }
    });
  </script>
</dom-module>
