<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="px-action-sheet-button.html" />
<!--
<p>
  For demo visit <a href="demo.html" target="_blank">Full demo here</a> or <a href="mobile-demo.html" target="_blank">Mobile demo here</a>
</p>

## Usage
```

<button class="btn--large btn btn--tertiary btn--full" type="button" onclick="document.getElementById('actionsheet2').toggle()">
  List Action Sheet
</button>

<px-action-sheet id="actionsheet2" list>
  <div class="u-m--">
    <h3>Open in</h3>
  </div>
  <px-action-sheet-button label="Github" icon="fa fa-lg fa-github"></px-action-sheet-button>
  <px-action-sheet-button label="Facebook" icon="fa fa-lg fa-facebook"></px-action-sheet-button>
  <px-action-sheet-button label="Twitter" icon="fa fa-lg fa-twitter"></px-action-sheet-button>
  <px-action-sheet-button label="Linked In" icon="fa fa-lg fa-linkedin"></px-action-sheet-button>
</px-action-sheet>
```

@element px-action-sheet.html
@blurb px-action-sheet is a responsive mobile first action sheet.
@demo demo.html
@homepage index.html
-->
  <link rel="stylesheet" href="css/px-action-sheet.css">
<dom-module id="px-action-sheet">
  <template strip-whitespace>
  <style>
    :host {
      display: block;
    }
  </style>
    <div id="_actionDialogMask" class="action-dialog--mask" on-click="toggle"></div>
    <div id="_actionSheet" class="action-sheet">
      <div id="_actionSheetActions" class="action-sheet__actions">
        <content select="*, px-action-sheet-button"></content>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-action-sheet',
      properties: {
        //The current state of the action sheet
        open: {
          type: Boolean,
          observer: '_openHandler',
          value: false
        },
        //Use grid based action buttons
        grid: {
          type: Boolean,
          value: false
        },
        //Use list based action buttons
        list: {
          type: Boolean,
          value: false
        }
      },
      attached: function(){
        if(this.grid){
          this.toggleClass('action-sheet__actions--grid', this.grid, this.$._actionSheetActions);
        }
        if(this.list){
          this.toggleClass('action-sheet__actions--list', this.list, this.$._actionSheetActions);
        }
      },
      //I handle invoking the toggleHandler when the value changes.
      _openHandler: function(newVal, oldVal) {
        this._toggleHandler();
      },
      //I handle toggling the visibility of the action sheet.
      _toggleHandler: function(show) {
        //this.$._actionDialogMask.hidden = !this.$._actionDialogMask.hidden;
        //this.toggleClass('action-sheet--is-open', show || this.open);
        this.toggleClass('action-dialog--mask--is-open', show || this.open, this.$._actionDialogMask);
        this.toggleClass('action-sheet--is-open', show || this.open, this.$._actionSheet);
      },
      //I handle toggling value of open, which in turn toggles the visibility.
      toggle: function() {
        this.open = !this.open;
      }
    });
  </script>
</dom-module>
