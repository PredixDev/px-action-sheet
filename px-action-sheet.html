<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="px-action-sheet-button.html"/>
<!--
<p>
  For demo visit <a href="demo.html" target="_blank">Full demo here</a> or <a href="mobile-demo.html" target="_blank">Mobile demo here</a>
</p>

## Usage
```

<button class="btn--large btn btn--tertiary btn--full" type="button" onclick="document.getElementById('actionsheet2').toggle()">
  List Action Sheet
</button>

<px-action-sheet id="actionsheet2" list>
  <div class="u-m--">
    <h3>Open in</h3>
  </div>
  <px-action-sheet-button label="Github" icon="fa fa-lg fa-github"></px-action-sheet-button>
  <px-action-sheet-button label="Facebook" icon="fa fa-lg fa-facebook"></px-action-sheet-button>
  <px-action-sheet-button label="Twitter" icon="fa fa-lg fa-twitter"></px-action-sheet-button>
  <px-action-sheet-button label="Linked In" icon="fa fa-lg fa-linkedin"></px-action-sheet-button>
</px-action-sheet>
```

@element px-action-sheet.html
@blurb px-action-sheet is a responsive mobile first action sheet.
@demo demo.html
@homepage index.html
-->

<dom-module id="px-action-sheet">
  <link rel="stylesheet" href="css/px-action-sheet.css">
  <template strip-whitespace>
    <style>
      :host {
        display: block;
      }

    </style>
    <div id="_actionDialogMask" class="c-action-dialog--mask" on-tap="toggle"></div>
    <div id="_actionSheet" class="c-action-sheet">
      <div id="_actionSheetActions" class="c-action-sheet__actions">
        <content></content>
      </div>
    </div>
  </template>
  <script>
    Polymer({
      is: 'px-action-sheet',
      properties: {
        /**
         * The current state of the action sheet
         */
        open: {
          type: Boolean,
          observer: '_openHandler',
          value: false
        },
        /**
         * The modifiers to apply (`small`, `large`, `huge`, `full`, `grid`, `list` etc)
         */
        modifier: {
          type: String,
          notify: true,
          reflectToAttribute: true,
          observer: '_handleModifier'
        }
      },
      attached: function () {

      },
      /**
       * Handle invoking the toggleHandler when the value changes.
       */
      _openHandler: function (newVal, oldVal) {
        this._toggleHandler();
      },
      /**
       * Handle toggling the visibility of the action sheet.
       */
      _toggleHandler: function (show) {
        this.toggleClass('c-action-dialog--mask--is-open', show || this.open, this.$._actionDialogMask);
        this.toggleClass('c-action-sheet--is-open', show || this.open, this.$._actionSheet);
      },
      /**
       * Handle toggling value of open, which in turn toggles the visibility.
       */
      toggle: function () {
        this.open = !this.open;
      },
      _handleModifier: function (newVal, oldVal) {
        var types;
        var klass = 'c-action-sheet__actions--' + oldVal;
        this.toggleClass(klass, false, this.$._actionSheetActions);
				types = newVal.split(' ');
				for (var i = 0; i < types.length; i++) {
					klass = 'c-action-sheet__actions--' + types[i];
					this.toggleClass(klass, true, this.$._actionSheetActions);
				}
      }
    });
  </script>
</dom-module>
