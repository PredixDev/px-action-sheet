<!doctype html>
<html>

  <head>
    <meta charset="UTF-8">
    <link rel='stylesheet prefetch' href='http://predixdev.github.io/px-library-design/css/style.css'>
    <script src="../webcomponentsjs/webcomponents.js"></script>
    <script src="../web-component-tester/browser.js"></script>
    <link rel="import" href="px-action-sheet.html">
    <title>WCT - px-action-sheet</title>
    <style media="screen">
    body {
      overflow: hidden;
      position: relative;
    }

    </style>
  </head>

  <body>
    <div class="viewport">
      <button class="btn--large btn btn--tertiary btn--full" type="button" onclick="document.getElementById('fixture').toggle()">Action Sheet 1</button>
      <px-action-sheet id="fixture">
        <px-action-sheet-button label="Item 1" onclick="alert('Item 1')" theme="primary"></px-action-sheet-button>
        <px-action-sheet-button label="Item 2" onclick="alert('Item 2')"></px-action-sheet-button>
        <px-action-sheet-button label="Item 3" onclick="alert('Item 3')"></px-action-sheet-button>
        <px-action-sheet-button label="Cancel" type="cancel" onclick="document.getElementById('actionsheet1').toggle()"></px-action-sheet-button>
      </px-action-sheet>
    </div>
    <script>
    suite('<px-action-sheet>', function() {
      var element = document.getElementById('fixture');

      test('renders', function() {
        assert.ok(element);
      });

      test('can toggle - open', function() {
        element.toggle();
        assert(element.isOpen === true);
      });

      test('can toggle - close', function() {
        element.toggle();
        assert(element.isOpen === false);
      });

      test('can toggle - isOpen', function() {
        var state = element.isOpen;
        element.isOpen = !state;
        assert(element.isOpen === true);
      });

      test('Dialog Mask can close action sheet.', function() {
        //element.isOpen = !element.isOpen;
        element.isOpen = true;
        element.$._actionDialogMask.click();
        assert(element.isOpen === false);
      });
    });

    </script>
  </body>

</html>
